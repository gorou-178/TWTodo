# vim: set ft=yaml expandtab tabstop=2 shiftwidth=2 softtabstop=2:
web1:
  document_root: /app/webroot
  shared_writable_dirs:
    - app/tmp
    - app/tmp/cache
    - app/tmp/cache/models
    - app/tmp/cache/persistent
    - app/tmp/cache/views
    - app/tmp/logs
    - app/tmp/sessions
    - app/tmp/tests
  php_extensions:
    - mcrypt
    - mbstring
    - pdo_mysql
    - apc
  after_build:
    - "mv app/Config/database.php.pagoda app/Config/database.php"
  before_deploy:
    # https://github.com/CakeDC/migrations
    - "app/Console/cake Migrations.migration all"
  after_deploy:
    - "rm -rf app/tmp/cache/models/*"
    - "rm -rf app/tmp/cache/persistent/*"
    - "rm -rf app/tmp/cache/views/*"
  # Stop Content-Length header from being set, by default the value is incorrect
  php_zlib_output_compression: On
 
db1:
  type: mysql

